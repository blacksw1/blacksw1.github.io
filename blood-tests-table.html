<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blood Test Selection</title>
    <style>
        /* Basic styling */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            background-color: #FFFFFF;
            color: #634A33;
        }
        .container {
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
            background-color: #F1E8E2;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
            color: #634A33;
        }
        .instructions {
            margin-bottom: 10px;
            font-size: 16px;
            color: #634A33;
        }
        .filters {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }
        .filters label {
            background-color: #D2BEB1;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
        }
        .filters input[type="checkbox"] {
            margin-right: 5px;
        }
        .search-bar {
            margin-bottom: 20px;
        }
        .search-bar input {
            width: 100%;
            padding: 10px;
            border: 1px solid #A28269;
            border-radius: 4px;
            background-color: #FFFFFF;
            color: #634A33;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
            background-color: #FFFFFF;
            border-radius: 8px;
            overflow: hidden;
        }
        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #D2BEB1;
            word-wrap: break-word;
            hyphens: auto;
        }
        th {
            background-color: #A28269;
            color: #FFFFFF;
            cursor: pointer;
        }
        tr:hover {
            background-color: #F1E8E2;
        }
        .details {
            display: none;
            padding: 10px;
            background-color: #FFFFFF;
            border-left: 4px solid #A28269;
        }
        .show {
            display: table-row;
        }
        a {
            color: #634A33;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        @media (max-width: 768px) {
            th, td {
                padding: 10px;
                font-size: 14px;
            }
        }
        @media (max-width: 480px) {
            th, td {
                padding: 8px;
                font-size: 12px;
            }
            h1 {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Blood Test Selection</h1>
        <div class="instructions">
            Filter the table using the options below:
        </div>
        <div class="filters">
            <label><input type="checkbox" value="Male" class="sex-filter"> Male</label>
            <label><input type="checkbox" value="Female" class="sex-filter"> Female</label>
            <label><input type="checkbox" value="Unisex" class="sex-filter"> Unisex</label>
        </div>
        <div class="filters">
            <label><input type="checkbox" value="General Health/Biochemistry"> General Health/Biochemistry</label>
            <label><input type="checkbox" value="Female Hormones"> Female Hormones</label>
            <label><input type="checkbox" value="Men's Health"> Men's Health</label>
            <label><input type="checkbox" value="Female Fertility"> Female Fertility</label>
            <label><input type="checkbox" value="Sexual Health"> Sexual Health</label>
            <label><input type="checkbox" value="Pregnancy"> Pregnancy</label>
        </div>
        <div class="search-bar">
            <input type="text" id="search" placeholder="Search for specific markers or tests...">
        </div>
        <div class="search-bar">
            <input type="text" id="biomarkerSearch" placeholder="Search for biomarkers...">
        </div>
        <table id="bloodTestsTable">
            <thead>
                <tr>
                    <th onclick="sortTable(0)">Test Name</th>
                    <th onclick="sortTable(1)">Category</th>
                    <th onclick="sortTable(2)">Sex</th>
                    <th onclick="sortTable(3)">Price</th>
                    <th onclick="sortTable(4)">Biomarkers</th>
                </tr>
            </thead>
            <tbody>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Anti-Mullerian Hormone Blood Test</a></td>
                    <td>Female Fertility</td>
                    <td>Female</td>
                    <td>$100</td>
                    <td>AMH - Anti-Mullerian Hormone</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Measures Anti-Mullerian Hormone (AMH) levels to assess ovarian reserve and fertility potential.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Beta HCG Blood Test</a></td>
                    <td>Pregnancy</td>
                    <td>Female</td>
                    <td>$120</td>
                    <td>Beta HCG</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Used to detect pregnancy and monitor its progression by measuring human chorionic gonadotropin (hCG) levels.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Bone Screen Blood Test</a></td>
                    <td>General Health/Biochemistry</td>
                    <td>Unisex</td>
                    <td>$150</td>
                    <td>Calcium, Phosphate, ALP</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Assesses bone health by measuring key markers such as calcium, phosphate, and ALP to detect bone disorders.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Diabetes (HbA1c) Blood Test EDTA</a></td>
                    <td>General Health/Biochemistry</td>
                    <td>Unisex</td>
                    <td>$90</td>
                    <td>HbA1c - Hemoglobin A1c</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Measures HbA1c levels to assess long-term blood sugar control and detect diabetes risk.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Follicle Stimulating Hormone Blood Test</a></td>
                    <td>Female Fertility</td>
                    <td>Female</td>
                    <td>$80</td>
                    <td>FSH - Follicle-Stimulating Hormone</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Measures FSH levels to assess ovarian reserve and overall reproductive health in women.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Full Blood Count Blood Test EDTA</a></td>
                    <td>General Health/Biochemistry</td>
                    <td>Unisex</td>
                    <td>$50</td>
                    <td>Red blood cells, white blood cells, hemoglobin, platelets</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Provides a comprehensive overview of general health by measuring various components of blood, such as red and white blood cells, hemoglobin, and platelets.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Hepatitis B Antibody Blood Test</a></td>
                    <td>Sexual Health</td>
                    <td>Unisex</td>
                    <td>$70</td>
                    <td>Hep B Surface Antibody</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Detects the presence of Hepatitis B antibodies to determine immunity status.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">HBcAB-Current Infection Blood Test</a></td>
                    <td>Sexual Health</td>
                    <td>Unisex</td>
                    <td>$90</td>
                    <td>Hep B Core Antibody</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Tests for Hepatitis B Core Antibodies to detect current or past infection.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Hepatitis B Antigen (HBsAg) Blood Test</a></td>
                    <td>Sexual Health</td>
                    <td>Unisex</td>
                    <td>$90</td>
                    <td>Hep B Surface Antigen</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Detects Hepatitis B Surface Antigen to diagnose active Hepatitis B infection.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Hepatitis C Antibodies Blood Test</a></td>
                    <td>Sexual Health</td>
                    <td>Unisex</td>
                    <td>$90</td>
                    <td>Hep C Antibodies</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Detects antibodies to the Hepatitis C virus, indicating exposure or active infection.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Liver Function Blood Test</a></td>
                    <td>General Health/Biochemistry</td>
                    <td>Unisex</td>
                    <td>$100</td>
                    <td>ALP, ALT, AST, GGT, Total Bilirubin, Albumin</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Assesses liver health by measuring key enzymes and proteins to detect liver diseases or damage.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Luteinizing Hormone Blood Test</a></td>
                    <td>Female Fertility</td>
                    <td>Female</td>
                    <td>$70</td>
                    <td>LH - Luteinizing Hormone</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Measures LH levels to assess ovulation and reproductive health.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Oestradiol Blood Test</a></td>
                    <td>Female Fertility</td>
                    <td>Female</td>
                    <td>$90</td>
                    <td>Oestradiol</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Measures oestradiol levels to assess ovarian function and hormonal health.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Progesterone Blood Test</a></td>
                    <td>Female Fertility</td>
                    <td>Female</td>
                    <td>$80</td>
                    <td>Progesterone</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Measures progesterone levels to confirm ovulation and assess luteal phase health.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Prolactin Blood Test</a></td>
                    <td>Female Fertility</td>
                    <td>Female</td>
                    <td>$85</td>
                    <td>Prolactin</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Measures prolactin levels to diagnose reproductive health issues, such as irregular periods or infertility.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Rubella (IgG) Blood Test</a></td>
                    <td>Pregnancy</td>
                    <td>Female</td>
                    <td>$75</td>
                    <td>Rubella IgG</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Measures rubella antibodies to assess immunity, especially for pregnant women.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Syphilis (RPR) Blood Test</a></td>
                    <td>Sexual Health</td>
                    <td>Unisex</td>
                    <td>$70</td>
                    <td>RPR</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Detects antibodies related to syphilis to diagnose current infection.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Thyroglobulin Blood Test</a></td>
                    <td>General Health/Biochemistry</td>
                    <td>Unisex</td>
                    <td>$80</td>
                    <td>Thyroglobulin</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Measures thyroglobulin levels to assess thyroid health, often used after thyroid cancer treatment.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Thyroid (Peroxidase Antibodies) Blood Test</a></td>
                    <td>General Health/Biochemistry</td>
                    <td>Unisex</td>
                    <td>$90</td>
                    <td>Anti-TPO</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Detects antibodies that attack the thyroid, helping diagnose autoimmune thyroid conditions.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Thyroid Stimulating Hormone Blood Test</a></td>
                    <td>General Health/Biochemistry</td>
                    <td>Unisex</td>
                    <td>$70</td>
                    <td>TSH</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Measures TSH levels to assess thyroid function and diagnose thyroid disorders.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Thyroid T3 Blood Test</a></td>
                    <td>General Health/Biochemistry</td>
                    <td>Unisex</td>
                    <td>$80</td>
                    <td>FT3 - Free Triiodothyronine</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Measures FT3 to assess thyroid function and diagnose thyroid conditions like hyperthyroidism.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Thyroid T4 Blood Test</a></td>
                    <td>General Health/Biochemistry</td>
                    <td>Unisex</td>
                    <td>$80</td>
                    <td>FT4 - Free Thyroxine</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Measures FT4 to assess thyroid function, used to diagnose conditions like hypothyroidism.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Blood Group Test EDTA</a></td>
                    <td>General Health/Biochemistry</td>
                    <td>Unisex</td>
                    <td>$50</td>
                    <td>Blood group, Rh factor</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Determines blood group and Rh factor, essential for blood transfusions and during pregnancy.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">CA125 Blood Test</a></td>
                    <td>Female Fertility</td>
                    <td>Female</td>
                    <td>$150</td>
                    <td>CA-125</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Measures CA-125 levels, commonly used to monitor ovarian cancer or other gynecological conditions.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">PSA Blood Test</a></td>
                    <td>Men's Health</td>
                    <td>Male</td>
                    <td>$90</td>
                    <td>PSA</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Measures Prostate-Specific Antigen (PSA) to screen for prostate health and prostate cancer.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Urea & Electrolytes Blood Test</a></td>
                    <td>General Health/Biochemistry</td>
                    <td>Unisex</td>
                    <td>$80</td>
                    <td>Urea, Sodium, Potassium, Creatinine</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Measures kidney function by checking levels of urea, sodium, potassium, and creatinine.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Vitamin D Blood Test</a></td>
                    <td>General Health/Biochemistry</td>
                    <td>Unisex</td>
                    <td>$80</td>
                    <td>Vitamin D</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Measures Vitamin D levels to assess bone health and immune function.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">HIV Blood Test</a></td>
                    <td>Sexual Health</td>
                    <td>Unisex</td>
                    <td>$100</td>
                    <td>HIV Antibodies, HIV Antigen</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Detects HIV antibodies and antigens to diagnose HIV infection.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Kidney Function Blood Test</a></td>
                    <td>General Health/Biochemistry</td>
                    <td>Unisex</td>
                    <td>$100</td>
                    <td>Creatinine, Urea, Sodium, Potassium, eGFR</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Assesses kidney health by measuring levels of creatinine, urea, and other key markers.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Testosterone Blood Test</a></td>
                    <td>Men's Health</td>
                    <td>Male</td>
                    <td>$90</td>
                    <td>Total Testosterone</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Measures total testosterone levels to assess hormonal balance and reproductive health in men.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Lipids (Including Cholesterol, HDL, LDL) Blood Test</a></td>
                    <td>General Health/Biochemistry</td>
                    <td>Unisex</td>
                    <td>$100</td>
                    <td>Cholesterol, HDL, LDL, Triglycerides</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Assesses cardiovascular health by measuring cholesterol, HDL, LDL, and triglycerides levels.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">SHBG Blood Test</a></td>
                    <td>General Health/Biochemistry</td>
                    <td>Unisex</td>
                    <td>$80</td>
                    <td>SHBG - Sex Hormone-Binding Globulin</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Measures SHBG levels to assess hormone balance and availability of sex hormones like testosterone and estrogen.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Thyroid Hormone Profile (All)~</a></td>
                    <td>General Health/Biochemistry</td>
                    <td>Unisex</td>
                    <td>$150</td>
                    <td>TSH, FT3, FT4, Anti-TPO</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Comprehensive thyroid panel that checks TSH, Free T3, Free T4, and antibodies to assess thyroid health.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Virology~</a></td>
                    <td>Sexual Health</td>
                    <td>Unisex</td>
                    <td>$200</td>
                    <td>Hep B Sab, Hep B Core, Hep B Sag, Hep C Ab, Rubella IgG, Rubella IgM, Syphilis</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Tests for various viral infections including Hepatitis B, Hepatitis C, Rubella, and Syphilis.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Fertility Standard~</a></td>
                    <td>Female Fertility</td>
                    <td>Female</td>
                    <td>$250</td>
                    <td>FSH, FT4, LH, Oestradiol, TSH, AMH, Progesterone, Prolactin</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Tests essential fertility markers like FSH, LH, and AMH to provide insights into a woman's fertility health.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Perimenopausal~</a></td>
                    <td>Female Hormones</td>
                    <td>Female</td>
                    <td>$250</td>
                    <td>FSH, LH, Oestradiol, Progesterone, SHBG, Testosterone</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Provides insights into hormone levels for women experiencing perimenopause, helping to manage symptoms.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">PCOS~</a></td>
                    <td>Female Hormones</td>
                    <td>Female</td>
                    <td>$300</td>
                    <td>Testosterone, FSH, LH, SHBG, Insulin, Androstenedione</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Comprehensive panel to diagnose Polycystic Ovary Syndrome (PCOS) by checking for hormonal imbalances and insulin resistance.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Cardiovascular Risk Profile 1~</a></td>
                    <td>General Health/Biochemistry</td>
                    <td>Unisex</td>
                    <td>$250</td>
                    <td>Cholesterol, HDL, LDL, Triglycerides, Apolipoprotein A1, Apolipoprotein B, Lipoprotein (a), hsCRP, Lp-PLA2</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Comprehensive cardiovascular test to assess heart disease risk by measuring cholesterol, LDL, HDL, and other important markers.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">General Well Person Profile~</a></td>
                    <td>General Health/Biochemistry</td>
                    <td>Unisex</td>
                    <td>$300</td>
                    <td>FBC, U&E, Liver Function, Lipids, CK, Calcium, Ferritin, Iron, TSH</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Full health check to assess kidney function, liver function, blood count, lipids, and thyroid health.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Well Man Profile~</a></td>
                    <td>Men's Health</td>
                    <td>Male</td>
                    <td>$300</td>
                    <td>FBC, U&E, Lipids, PSA, Testosterone, CK, Liver Function, Kidney Function</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Comprehensive men's health test to assess liver, kidney, cardiovascular, and prostate health.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Biochemistry and Haematology Profile~</a></td>
                    <td>General Health/Biochemistry</td>
                    <td>Unisex</td>
                    <td>$350</td>
                    <td>FBC, U&E, Liver Function, CK, Lipids, Calcium, Ferritin, ESR, Glucose</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Full biochemical and hematological profile to assess overall health, including kidney, liver, blood, and cardiovascular markers.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Fertility Advance~</a></td>
                    <td>Female Fertility</td>
                    <td>Female</td>
                    <td>$350</td>
                    <td>AMH, FSH, LH, Oestradiol, Progesterone, Testosterone, SHBG, FT4, FT3, Prolactin</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Advanced fertility profile to check hormone levels and fertility potential, offering insights for treatment plans.</td>
                </tr>
            </tbody>
        </table>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const sexCheckboxes = document.querySelectorAll('.sex-filter');
            const categoryCheckboxes = document.querySelectorAll('.filters input[type="checkbox"]:not(.sex-filter)');
            const searchInput = document.getElementById('search');
            const biomarkerSearch = document.getElementById('biomarkerSearch');
            const table = document.getElementById('bloodTestsTable').getElementsByTagName('tbody')[0];

            // Event listener for search bar
            searchInput.addEventListener('input', function() {
                filterTable();
            });

            // Event listener for biomarker search
            biomarkerSearch.addEventListener('input', function() {
                filterTable();
            });

            // Event listeners for checkboxes
            sexCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    filterTable();
                });
            });
            categoryCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    filterTable();
                });
            });

            // Function to filter table
            function filterTable() {
                const searchText = searchInput.value.toLowerCase();
                const biomarkerText = biomarkerSearch.value.toLowerCase();
                const checkedSexes = Array.from(sexCheckboxes).filter(checkbox => checkbox.checked).map(checkbox => checkbox.value);
                const checkedCategories = Array.from(categoryCheckboxes).filter(checkbox => checkbox.checked).map(checkbox => checkbox.value);
                
                Array.from(table.rows).forEach((row, index) => {
                    if (index % 2 === 0) {
                        const testName = row.cells[0].textContent.toLowerCase();
                        const category = row.cells[1].textContent;
                        const sex = row.cells[2].textContent;
                        const biomarkers = row.cells[4].textContent.toLowerCase();
                        const detailRow = table.rows[index + 1];
                        
                        const matchesSearch = searchText === '' || testName.includes(searchText) || detailRow.textContent.toLowerCase().includes(searchText);
                        const matchesBiomarker = biomarkerText === '' || biomarkers.includes(biomarkerText);
                        const matchesCategory = checkedCategories.length === 0 || checkedCategories.includes(category);
                        const matchesSex = checkedSexes.length === 0 || checkedSexes.includes(sex);
                        
                        if (matchesSearch && matchesBiomarker && matchesCategory && matchesSex) {
                            row.style.display = '';
                            detailRow.style.display = '';
                        } else {
                            row.style.display = 'none';
                            detailRow.style.display = 'none';
                        }
                    }
                });
            }

            // Function to sort table
            function sortTable(n) {
                const rows = table.rows;
                let switching = true;
                let shouldSwitch, switchcount = 0;
                let dir = 'asc';

                while (switching) {
                    switching = false;
                    for (let i = 0; i < rows.length - 2; i += 2) {
                        shouldSwitch = false;
                        const x = rows[i].getElementsByTagName('td')[n];
                        const y = rows[i + 2].getElementsByTagName('td')[n];
                        
                        if (dir === 'asc' ? x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase() : x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
                            shouldSwitch = true;
                            break;
                        }
                    }
                    if (shouldSwitch) {
                        rows[i].parentNode.insertBefore(rows[i + 2], rows[i]);
                        rows[i + 1].parentNode.insertBefore(rows[i + 3], rows[i + 1]);
                        switching = true;
                        switchcount++;
                    } else if (switchcount === 0 && dir === 'asc') {
                        dir = 'desc';
                        switching = true;
                    }
                }
            }

            // Event listener for expanding/collapsing details
            document.querySelectorAll('#bloodTestsTable tbody tr.test-row').forEach(row => {
                row.addEventListener('click', function() {
                    const nextRow = this.nextElementSibling;
                    if (nextRow && nextRow.classList.contains('details')) {
                        nextRow.classList.toggle('show');
                    }
                });
            });
        });
    </script>
</body>
</html>