<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blood Test Selection</title>
    <style>
        /* Basic styling */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            background-color: #FFFFFF;
            color: #634A33;
        }
        .container {
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
            background-color: #F1E8E2;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
            color: #634A33;
        }
        .instructions {
            margin-bottom: 10px;
            font-size: 16px;
            color: #634A33;
        }
        .filters {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }
        .filters label {
            background-color: #D2BEB1;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
        }
        .filters input[type="checkbox"] {
            margin-right: 5px;
        }
        .search-bar {
            margin-bottom: 20px;
        }
        .search-bar input {
            width: 100%;
            padding: 10px;
            border: 1px solid #A28269;
            border-radius: 4px;
            background-color: #FFFFFF;
            color: #634A33;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
            background-color: #FFFFFF;
            border-radius: 8px;
            overflow: hidden;
        }
        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #D2BEB1;
            word-wrap: break-word;
            hyphens: auto;
        }
        th {
            background-color: #A28269;
            color: #FFFFFF;
            cursor: pointer;
        }
        tr:hover {
            background-color: #F1E8E2;
        }
        .details {
            display: none;
            padding: 10px;
            background-color: #FFFFFF;
            border-left: 4px solid #A28269;
        }
        .show {
            display: table-row;
        }
        a {
            color: #634A33;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        @media (max-width: 768px) {
            th, td {
                padding: 10px;
                font-size: 14px;
            }
        }
        @media (max-width: 480px) {
            th, td {
                padding: 8px;
                font-size: 12px;
            }
            h1 {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Blood Test Selection</h1>
        <div class="instructions">
            Filter the table using the options below:
        </div>
        <div class="filters">
            <label><input type="checkbox" value="Male" class="sex-filter"> Male</label>
            <label><input type="checkbox" value="Female" class="sex-filter"> Female</label>
            <label><input type="checkbox" value="Unisex" class="sex-filter"> Unisex</label>
        </div>
        <div class="filters">
            <label><input type="checkbox" value="General Health/Biochemistry"> General Health/Biochemistry</label>
            <label><input type="checkbox" value="Female Hormones"> Female Hormones</label>
            <label><input type="checkbox" value="Men's Health"> Men's Health</label>
            <label><input type="checkbox" value="Female Fertility"> Female Fertility</label>
            <label><input type="checkbox" value="Sexual Health"> Sexual Health</label>
            <label><input type="checkbox" value="Pregnancy"> Pregnancy</label>
        </div>
        <div class="search-bar">
            <input type="text" id="search" placeholder="Search for specific markers or tests...">
        </div>
        <div class="search-bar">
            <input type="text" id="biomarkerSearch" placeholder="Search for biomarkers...">
        </div>
        <table id="bloodTestsTable">
            <thead>
                <tr>
                    <th onclick="sortTable(0)">Test Name</th>
                    <th onclick="sortTable(1)">Category</th>
                    <th onclick="sortTable(2)">Sex</th>
                    <th onclick="sortTable(3)">Price</th>
                    <th onclick="sortTable(4)">Biomarkers</th>
                </tr>
            </thead>
            <tbody>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Anti-Mullerian Hormone Blood Test</a></td>
                    <td>Female Fertility</td>
                    <td>Female</td>
                    <td>$100</td>
                    <td>AMH - Anti-Mullerian Hormone</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Measures Anti-Mullerian Hormone (AMH) levels to assess ovarian reserve and fertility potential.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Beta HCG Blood Test</a></td>
                    <td>Pregnancy</td>
                    <td>Female</td>
                    <td>$120</td>
                    <td>Beta HCG</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Used to detect pregnancy and monitor its progression by measuring human chorionic gonadotropin (hCG) levels.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Bone Screen Blood Test</a></td>
                    <td>General Health/Biochemistry</td>
                    <td>Unisex</td>
                    <td>$150</td>
                    <td>Calcium, Phosphate, ALP</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Assesses bone health by measuring key markers such as calcium, phosphate, and ALP to detect bone disorders.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Diabetes (HbA1c) Blood Test EDTA</a></td>
                    <td>General Health/Biochemistry</td>
                    <td>Unisex</td>
                    <td>$90</td>
                    <td>HbA1c - Hemoglobin A1c</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Measures HbA1c levels to assess long-term blood sugar control and detect diabetes risk.</td>
                </tr>
                <tr class="test-row">
                    <td><a href="javascript:void(0);">Fertility Advance~</a></td>
                    <td>Female Fertility</td>
                    <td>Female</td>
                    <td>$300</td>
                    <td>AMH, FSH, LH, Oestradiol, Testosterone, SHBG, TSH, FT3, FT4, Progesterone</td>
                </tr>
                <tr class="details">
                    <td colspan="5">Comprehensive fertility test for advanced insight into hormonal health and fertility potential.</td>
                </tr>
                <!-- Add all other tests similarly -->
            </tbody>
        </table>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const sexCheckboxes = document.querySelectorAll('.sex-filter');
            const categoryCheckboxes = document.querySelectorAll('.filters input[type="checkbox"]:not(.sex-filter)');
            const searchInput = document.getElementById('search');
            const biomarkerSearch = document.getElementById('biomarkerSearch');
            const table = document.getElementById('bloodTestsTable').getElementsByTagName('tbody')[0];

            // Event listener for search bar
            searchInput.addEventListener('input', function() {
                filterTable();
            });

            // Event listener for biomarker search
            biomarkerSearch.addEventListener('input', function() {
                filterTable();
            });

            // Event listeners for checkboxes
            sexCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    filterTable();
                });
            });
            categoryCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    filterTable();
                });
            });

            // Function to filter table
            function filterTable() {
                const searchText = searchInput.value.toLowerCase();
                const biomarkerText = biomarkerSearch.value.toLowerCase();
                const checkedSexes = Array.from(sexCheckboxes).filter(checkbox => checkbox.checked).map(checkbox => checkbox.value);
                const checkedCategories = Array.from(categoryCheckboxes).filter(checkbox => checkbox.checked).map(checkbox => checkbox.value);
                
                Array.from(table.rows).forEach((row, index) => {
                    if (index % 2 === 0) {
                        const testName = row.cells[0].textContent.toLowerCase();
                        const category = row.cells[1].textContent;
                        const sex = row.cells[2].textContent;
                        const biomarkers = row.cells[4].textContent.toLowerCase();
                        const detailRow = table.rows[index + 1];
                        
                        const matchesSearch = searchText === '' || testName.includes(searchText) || detailRow.textContent.toLowerCase().includes(searchText);
                        const matchesBiomarker = biomarkerText === '' || biomarkers.includes(biomarkerText);
                        const matchesCategory = checkedCategories.length === 0 || checkedCategories.includes(category);
                        const matchesSex = checkedSexes.length === 0 || checkedSexes.includes(sex);
                        
                        if (matchesSearch && matchesBiomarker && matchesCategory && matchesSex) {
                            row.style.display = '';
                            detailRow.style.display = '';
                        } else {
                            row.style.display = 'none';
                            detailRow.style.display = 'none';
                        }
                    }
                });
            }

            // Function to sort table
            function sortTable(n) {
                const rows = table.rows;
                let switching = true;
                let shouldSwitch, switchcount = 0;
                let dir = 'asc';

                while (switching) {
                    switching = false;
                    for (let i = 0; i < rows.length - 2; i += 2) {
                        shouldSwitch = false;
                        const x = rows[i].getElementsByTagName('td')[n];
                        const y = rows[i + 2].getElementsByTagName('td')[n];
                        
                        if (dir === 'asc' ? x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase() : x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
                            shouldSwitch = true;
                            break;
                        }
                    }
                    if (shouldSwitch) {
                        rows[i].parentNode.insertBefore(rows[i + 2], rows[i]);
                        rows[i + 1].parentNode.insertBefore(rows[i + 3], rows[i + 1]);
                        switching = true;
                        switchcount++;
                    } else if (switchcount === 0 && dir === 'asc') {
                        dir = 'desc';
                        switching = true;
                    }
                }
            }

            // Event listener for expanding/collapsing details
            document.querySelectorAll('#bloodTestsTable tbody tr.test-row').forEach(row => {
                row.addEventListener('click', function() {
                    const nextRow = this.nextElementSibling;
                    if (nextRow && nextRow.classList.contains('details')) {
                        nextRow.classList.toggle('show');
                    }
                });
            });
        });
    </script>
</body>
</html>